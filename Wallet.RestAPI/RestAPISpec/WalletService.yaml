openapi: 3.0.0
x-stoplight:
  id: 018fa124ecfc8
info:
  title: Wallet Service API
  version: 0.1.0
  description: |
    Api para exponer la funcionalidad de wallet service.
  contact:
    name: Edilberto Martinez
    url: 'https://edilbertomd.github.io/portafoliolaboral/'
    email: edilberto_diaz14@hotmail.com
servers:
  - url: 'http://localhost:3000'
    description: Development/Test Server
  - url: 'http://localhost:4000'
    description: Production Server
paths:
  /health:
    get:
      summary: Ping echo for testing the services is up
      tags:
        - Health
      responses:
        '200':
          description: OK
      operationId: get-health
      description: Health check for the service
      security: []
  /ready:
    get:
      summary: Readiness check by executing base functionality
      tags:
        - Health
      responses:
        '200':
          description: OK
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
      operationId: GetReady
      description: Readiness check for the service
      security: []
  '/{version}/configurations':
    parameters:
      - $ref: '#/components/parameters/version'
    get:
      summary: Obtiene todas las configuraciones
      operationId: GetConfigurations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/KeyValueConfigResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
      security:
        - jwsToken: []
      tags:
        - KeyValueConfig
    post:
      summary: Crea una nueva configuracion
      operationId: CreateKeyValueConfig
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/KeyValueConfigRequest'
        required: true
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KeyValueConfigResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
      security:
        - jwsToken: []
      tags:
        - KeyValueConfig
  '/{version}/configurations/{key}':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: key
        in: path
        required: true
        schema:
          type: string
        description: Clave de la configuracion
    get:
      summary: Obtiene una configuracion por su clave
      operationId: GetKeyValueConfigByKey
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KeyValueConfigResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      security:
        - jwsToken: []
      tags:
        - KeyValueConfig
    put:
      summary: Actualiza una configuracion existente
      operationId: UpdateKeyValueConfig
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/KeyValueConfigUpdateRequest'
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KeyValueConfigResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      security:
        - jwsToken: []
      tags:
        - KeyValueConfig
    delete:
      summary: Elimina una configuracion por su clave
      operationId: DeleteKeyValueConfig
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KeyValueConfigResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      security:
        - jwsToken: []
      tags:
        - KeyValueConfig
  "/{version}/configurations/{key}/activate":
    parameters:
      - $ref: "#/components/parameters/version"
      - name: key
        in: path
        required: true
        schema:
          type: string
        description: Clave de la configuracion
    put:
      summary: Activa una configuracion
      operationId: ActivateKeyValueConfig
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KeyValueConfigResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "404":
          $ref: "#/components/responses/HTTP_Error_400"
      security:
        - jwsToken: []
      tags:
        - KeyValueConfig

  "/{version}/cliente":
    parameters:
      - $ref: '#/components/parameters/version'
    get:
      summary: Obtiene los clientes
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ClienteResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      operationId: GetClientes
      description: Obtiene todos los clientes
      security:
        - jwsToken: []
      tags:
        - Cliente
  '/{version}/cliente/{idCliente}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idCliente'
    get:
      summary: Obtiene un cliente por id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClienteResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      operationId: GetCliente
      description: Obtiene un cliente por id
      security:
        - jwsToken: []
      tags:
        - Cliente
    put:
      summary: Actualiza un cliente por id
      operationId: UpdateCliente
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ClienteResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "404":
          $ref: "#/components/responses/HTTP_Error_400"
        "409":
          $ref: "#/components/responses/HTTP_Error_400"
      description: Actualiza un cliente por id
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DatosClienteUpdateRequest"
        required: true
      security:
        - jwsToken: []
      tags:
        - Cliente
    delete:
      summary: Elimina un cliente por id
      operationId: DeleteCliente
      parameters:
        - schema:
            type: string
          in: query
          name: concurrencyToken
          description: Token de concurrencia
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClienteResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Elimina un cliente por id
      security:
        - jwsToken: []
      tags:
        - Cliente
  '/{version}/cliente/{idCliente}/activar':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idCliente'
    put:
      summary: Activa un cliente por id
      operationId: PutActivarCliente
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/StatusChangeRequest"
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClienteResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Activa un cliente por id
      security:
        - jwsToken: []
      tags:
        - Cliente
  '/{version}/cliente/{idCliente}/servicios-favoritos':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idCliente'
    get:
      summary: Obtiene los servicios favoritos de un cliente
      operationId: getServiciosFavoritosPorCliente
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServicioFavoritoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene los servicios favoritos asignados a un cliente
      tags:
        - Cliente
  '/{version}/direccion/{idCliente}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idCliente'
    get:
      summary: Obtiene la direccion de un cliente
      operationId: getDireccion
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DireccionResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene la direccion del cliente
      tags:
        - Direccion
    put:
      summary: Actualiza direccion cliente
      operationId: putDireccion
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DireccionResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza la direccion del cliente
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DireccionUpdateRequest'
      tags:
        - Direccion
  '/{version}/ubicacion/{idCliente}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idCliente'
    post:
      summary: Guarda ubicacion cliente
      operationId: postUbicacion
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UbicacionResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Gaurda ubicaciones del cliente
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UbicacionRequest'
      tags:
        - UbicacionGeolocalizacion
  '/{version}/dispositivoMovilAutorizado/{idCliente}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idCliente'
    post:
      summary: Guarda dispositivo movil autorizado
      operationId: postDispositivoMovilAutorizado
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DispositivoMovilAutorizadoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Gaurda dispositivo moveil autorizado del cliente
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DispositivoMovilAutorizadoRequest'
      tags:
        - DispositivoMovilAutorizado
    get:
      summary: Obtiene el dispositivo movil autroizado
      operationId: getDispositivoMovilAutorizado
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: boolean
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene el dispositivo movil autorizado para entrar a la app
      parameters:
        - schema:
            type: string
          in: query
          name: idDispositivo
          description: id del dispositivo
        - schema:
            type: string
          in: query
          name: token
          description: token autorizacion del dispositivo
      tags:
        - DispositivoMovilAutorizado
  "/{version}/pago-servicios":
    parameters:
      - $ref: "#/components/parameters/version"
    post:
      summary: Registra un nuevo pago de servicio
      operationId: RegistrarPagoServicio
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegistrarPagoServicioRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DetallesPagoServicioResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "500":
          $ref: "#/components/responses/HTTP_Error_400"
      description: Registra un pago de servicio y su transaccion asociada
      tags:
        - DetallesPagoServicio

  "/{version}/estado":
    parameters:
      - $ref: '#/components/parameters/version'
    post:
      summary: Guarda un estado de mexico
      operationId: postEstado
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstadoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Gaurda un estado de mexico
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EstadoRequest'
      tags:
        - Estado
    get:
      summary: Obtiene todos los estadosde la republica mexicana
      operationId: getEstados
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EstadoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene todos los estados de la republica mexicana
      parameters: []
      tags:
        - Estado
  '/{version}/estado/{idEstado}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idEstado'
    put:
      summary: Actualiza un estado de mexico
      operationId: putEstado
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstadoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza un estado de mexico
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EstadoUpdateRequest"
      tags:
        - Estado
  '/{version}/empresa':
    parameters:
      - $ref: '#/components/parameters/version'
    post:
      summary: Guarda una empresa
      operationId: postEmpresa
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmpresaResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: 'Gaurda una empresa '
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmpresaRequest'
      tags:
        - Empresa
    get:
      summary: Obtiene todas las empresas
      operationId: getEmpresas
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EmpresaResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene todas las empresas
      parameters: []
      tags:
        - Empresa
  '/{version}/empresa/{idEmpresa}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idEmpresa'
    get:
      summary: Obtiene una empresa por id
      operationId: getEmpresa
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmpresaResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene una empresa por id
      tags:
        - Empresa
    put:
      summary: Actualiza una empresa
      operationId: putEmpresa
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmpresaResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: 'Actualiza una empresa '
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EmpresaUpdateRequest"
      tags:
        - Empresa
    delete:
      summary: Elimina una empresa por id
      operationId: DeleteEmpresa
      parameters:
        - schema:
            type: string
          in: query
          name: concurrencyToken
          description: Token de concurrencia
          required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpresaResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "404":
          $ref: "#/components/responses/HTTP_Error_400"
        "409":
          $ref: "#/components/responses/HTTP_Error_400"
      description: Elimina una empresa por id
      security:
        - jwsToken: []
      tags:
        - Empresa

  "/{version}/empresa/{idEmpresa}/activar":
    parameters:
      - $ref: "#/components/parameters/version"
      - $ref: "#/components/parameters/idEmpresa"
    put:
      summary: Activa una empresa por id
      operationId: PutActivarEmpresa
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/StatusChangeRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpresaResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "404":
          $ref: "#/components/responses/HTTP_Error_400"
        "409":
          $ref: "#/components/responses/HTTP_Error_400"
      description: Activa una empresa por id
      security:
        - jwsToken: []
      tags:
        - Empresa

  "/{version}/empresa/{idEmpresa}/clientes":
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idEmpresa'
    get:
      summary: Obtiene los clientes de una empresa
      operationId: getClientesPorEmpresa
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ClienteResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene los clientes asignados a una empresa
      tags:
        - Empresa
  '/{version}/empresa/{idEmpresa}/productos':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idEmpresa'
    get:
      summary: Obtiene los productos de una empresa
      operationId: getProductosPorEmpresa
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProductoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene los productos asignados a una empresa
      tags:
        - Empresa
    post:
      summary: Asigna productos a una empresa
      operationId: AsignarProductos
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AsignarProductosRequest'
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmpresaResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Asigna una lista de productos a una empresa
      tags:
        - Empresa
  '/{version}/empresa/{idEmpresa}/productos/remover':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idEmpresa'
    post:
      summary: Remueve productos de una empresa
      operationId: DesasignarProductos
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AsignarProductosRequest'
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmpresaResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Remueve una lista de productos de una empresa
      tags:
        - Empresa
  '/{version}/broker':
    parameters:
      - $ref: '#/components/parameters/version'
    post:
      summary: Guarda un broker
      operationId: postBroker
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BrokerResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Guarda un broker
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BrokerRequest'
      tags:
        - Broker
    get:
      summary: Obtiene todos los brokers
      operationId: getBrokers
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BrokerResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene todos los brokers
      parameters: []
      tags:
        - Broker
  '/{version}/broker/{idBroker}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idBroker'
    get:
      summary: Obtiene un broker por id
      operationId: getBroker
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BrokerResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene un broker por id
      tags:
        - Broker
    put:
      summary: Actualiza un broker
      operationId: putBroker
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BrokerResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza un broker
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BrokerUpdateRequest"
      tags:
        - Broker
    delete:
      summary: Elimina un broker
      operationId: deleteBroker
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BrokerResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Elimina un broker
      tags:
        - Broker
  '/{version}/broker/{idBroker}/proveedores':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idBroker'
    get:
      summary: Obtiene los proveedores de un broker
      operationId: getProveedoresPorBroker
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProveedorResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene los proveedores asociados a un broker
      tags:
        - Broker
  '/{version}/broker/{idBroker}/activar':
    parameters:
      - name: version
        in: path
        required: true
        schema:
          type: string
          pattern: '^(?<major>[0-9]+).(?<minor>[0-9]+)$'
        description: Version of the API to use
      - name: idBroker
        in: path
        schema:
          type: integer
        description: Id del broker
        required: true
    put:
      summary: Activar un broker
      operationId: putActivarBroker
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BrokerResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Activa un broker
      tags:
        - Broker
  '/{version}/proveedor/{idProveedor}/producto':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idProveedor'
    post:
      summary: Guarda un producto
      operationId: postProducto
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Guarda un producto asociado a un proveedor
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductoRequest'
      tags:
        - Producto
  '/{version}/producto/{idProducto}':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idProducto
        in: path
        schema:
          type: integer
        description: Id del producto
        required: true
    get:
      summary: Obtiene un producto por id
      operationId: getProducto
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene un producto por id
      tags:
        - Producto
    put:
      summary: Actualiza un producto
      operationId: putProducto
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza un producto
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProductoUpdateRequest"
      tags:
        - Producto
    delete:
      summary: Elimina un producto
      operationId: deleteProducto
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Elimina un producto
      tags:
        - Producto
  '/{version}/producto':
    parameters:
      - name: version
        in: path
        required: true
        schema:
          type: string
          pattern: '^(?<major>[0-9]+).(?<minor>[0-9]+)$'
        description: Version of the API to use
    get:
      summary: Obtiene todos los productos
      operationId: getProductos
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProductoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene todos los productos
      tags:
        - Producto
  '/{version}/producto/{idProducto}/activar':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idProducto
        in: path
        schema:
          type: integer
        description: Id del producto
        required: true
    put:
      summary: Activa un producto
      operationId: putActivarProducto
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Activa un producto
      tags:
        - Producto
  '/{version}/producto/{idProducto}/actualizarProveedor':
    parameters:
      - name: version
        in: path
        required: true
        schema:
          type: string
          pattern: '^(?<major>[0-9]+).(?<minor>[0-9]+)$'
        description: Version of the API to use
      - name: idProducto
        in: path
        schema:
          type: integer
        description: Id del producto
        required: true
    put:
      summary: Actualizar el proveedor de un producto
      operationId: putActualizarProveedor
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza el proveedor de un producto
      tags:
        - Producto
      requestBody:
        content:
          application/json:
            schema:
              type: integer
        description: Id del proveedor
  '/{version}/proveedor/{idProveedor}/productos':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idProveedor'
    get:
      summary: Obtiene los productos de un proveedor
      operationId: getProductosPorProveedor
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProductoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene los productos de un proveedor
      tags:
        - Producto
  '/{version}/proveedor':
    parameters:
      - $ref: '#/components/parameters/version'
    post:
      summary: Guarda un proveedor de servicio
      operationId: postProveedor
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProveedorResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Guarda un proveedor de servicio
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProveedorRequest'
      tags:
        - Proveedor
    get:
      summary: Obtiene todos los proveedores de servicio
      operationId: getProveedoresServicio
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProveedorResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene todos los proveedores de servicio
      parameters: []
      tags:
        - Proveedor
  '/{version}/proveedor/{idProveedor}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idProveedor'
    get:
      summary: Obtiene un proveedor de servicio por id
      operationId: getProveedor
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProveedorResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene un proveedor de servicio por id
      tags:
        - Proveedor
    put:
      summary: Actualiza un proveedor de servicio
      operationId: putProveedor
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProveedorResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza un proveedor de servicio
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProveedorUpdateRequest"
      tags:
        - Proveedor
    delete:
      summary: Elimina un proveedor de servicio
      operationId: deleteProveedor
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProveedorResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Elimina un proveedor de servicio
      tags:
        - Proveedor
  '/{version}/proveedor/{idProveedor}/activar':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idProveedor'
    put:
      summary: Activa un proveedor de servicio
      operationId: putActivarProveedor
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProveedorResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Activa un proveedor de servicio
      tags:
        - Proveedor
  '/{version}/servicioFavorito':
    parameters:
      - $ref: '#/components/parameters/version'
    post:
      summary: Guarda un servicio favorito
      operationId: postServicioFavorito
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServicioFavoritoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Guarda un servicio favorito
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServicioFavoritoRequest'
      tags:
        - ServicioFavorito
  '/{version}/servicioFavorito/cliente/{idCliente}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idCliente'
    get:
      summary: Obtiene los servicios favoritos de un cliente
      operationId: getServiciosFavoritos
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServicioFavoritoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene los servicios favoritos de un cliente
      tags:
        - ServicioFavorito
  '/{version}/servicioFavorito/{idServicioFavorito}':
    parameters:
      - $ref: '#/components/parameters/version'
      - $ref: '#/components/parameters/idServicioFavorito'
    put:
      summary: Actualiza un servicio favorito
      operationId: putServicioFavorito
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServicioFavoritoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza un servicio favorito
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ServicioFavoritoUpdateRequest"
      tags:
        - ServicioFavorito
    delete:
      summary: Elimina un servicio favorito
      operationId: deleteServicioFavorito
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServicioFavoritoResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Elimina un servicio favorito
      tags:
        - ServicioFavorito
  "/{version}/servicioFavorito/{idServicioFavorito}/activar":
    parameters:
      - $ref: "#/components/parameters/version"
      - $ref: "#/components/parameters/idServicioFavorito"
    put:
      summary: Activa un servicio favorito
      operationId: putActivarServicioFavorito
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServicioFavoritoResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "404":
          $ref: "#/components/responses/HTTP_Error_400"
      description: Activa un servicio favorito
      tags:
        - ServicioFavorito
  "/{version}/registro/preRegistro":
    parameters:
      - $ref: '#/components/parameters/version'
    post:
      summary: Pre-registro de usuario
      operationId: PostPreRegistro
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Crea un usuario y cliente en estado de pre-registro
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PreRegistroRequest'
      tags:
        - Registro
  '/{version}/registro/{idUsuario}/confirmar':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        description: ID del usuario
        required: true
        schema:
          type: integer
          format: int32
    put:
      summary: Confirmar
      description: Confirma el número de teléfono o correo electrónico
      operationId: PutConfirmar
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConfirmacionRequest'
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: boolean
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      tags:
        - Registro
  '/{version}/registro/{idUsuario}/datosCliente':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        description: ID del usuario
        required: true
        schema:
          type: integer
          format: int32
    post:
      summary: Completa los datos del cliente
      operationId: PostDatosCliente
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Completa los datos personales del cliente
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DatosClienteRequest'
      tags:
        - Registro
  '/{version}/registro/{idUsuario}/correo':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        description: ID del usuario
        required: true
        schema:
          type: integer
          format: int32
    put:
      summary: Registra el correo electronico
      operationId: PutRegistrarCorreo
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Registra el correo electronico del usuario
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegistrarCorreoRequest'
      tags:
        - Registro
  '/{version}/registro/{idUsuario}/biometricos':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        description: ID del usuario
        required: true
        schema:
          type: integer
          format: int32
    post:
      summary: Registra datos biometricos
      operationId: PostRegistrarBiometricos
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Registra los datos biometricos del usuario
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegistrarBiometricosRequest'
      tags:
        - Registro
  '/{version}/registro/{idUsuario}/terminos':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        description: ID del usuario
        required: true
        schema:
          type: integer
          format: int32
    post:
      summary: Acepta terminos y condiciones
      operationId: PostAceptarTerminos
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Registra la aceptacion de terminos y condiciones
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AceptarTerminosRequest'
      tags:
        - Registro
  '/{version}/registro/{idUsuario}/completar':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        description: ID del usuario
        required: true
        schema:
          type: integer
          format: int32
    put:
      summary: Completa el registro
      operationId: PutCompletarRegistro
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Finaliza el proceso de registro estableciendo la contraseña
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompletarRegistroRequest'
      tags:
        - Registro
  '/{version}/usuario/{idUsuario}':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        required: true
        schema:
          type: integer
    get:
      summary: Obtiene un usuario por id
      operationId: GetUsuario
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene un usuario por id
      security:
        - jwsToken: []
      tags:
        - Usuario
  '/{version}/usuario/{idUsuario}/contrasena':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        required: true
        schema:
          type: integer
    put:
      summary: Actualiza contraseña
      operationId: PutUsuarioContrasena
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza la contraseña
      security:
        - jwsToken: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContrasenaUpdateRequest'
      tags:
        - Usuario
  '/{version}/usuario/{idUsuario}/actualizaEmail':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        required: true
        schema:
          type: integer
    put:
      summary: Actualiza email
      operationId: PutUsuarioEmail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza el email
      security:
        - jwsToken: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailUpdateRequest'
      tags:
        - Usuario
  '/{version}/usuario/{idUsuario}/actualizaTelefono':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        required: true
        schema:
          type: integer
    put:
      summary: Actualiza telefono
      operationId: PutUsuarioTelefono
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Actualiza el telefono
      security:
        - jwsToken: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TelefonoUpdateRequest'
      tags:
        - Usuario
  '/{version}/usuario/{idUsuario}/consentimiento':
    parameters:
      - $ref: '#/components/parameters/version'
      - name: idUsuario
        in: path
        schema:
          type: integer
        required: true
        description: Id del usuario
    post:
      summary: Guarda un consentimiento de usuario
      operationId: postConsentimientoUsuario
      tags:
        - ConsentimientoUsuario
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsentimientoUsuarioRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConsentimientoUsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Guarda una nueva aceptacion de version de los terminos y condiciones
    get:
      summary: Obtiene los últimos consentimientos del usuario
      operationId: getConsentimientosUsuario
      tags:
        - ConsentimientoUsuario
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ConsentimientoUsuarioResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
        '404':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Obtiene los ultimos consentimientos del usuario
  '/{version}/auth/login':
    parameters:
      - $ref: '#/components/parameters/version'
    post:
      summary: Login with credentials
      operationId: Login
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResult'
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Login with credentials
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      tags:
        - Auth
  '/{version}/auth/refresh':
    parameters:
      - $ref: '#/components/parameters/version'
    post:
      summary: Refresh access token
      operationId: Refresh
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResult'
        '400':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Refresh access token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
      tags:
        - Auth
  '/{version}/auth/revoke':
    parameters:
      - $ref: '#/components/parameters/version'
    post:
      summary: Revoke refresh token
      operationId: Revoke
      responses:
        '204':
          description: No Content
        '401':
          $ref: '#/components/responses/HTTP_Error_400'
      description: Revoke refresh token
      security:
        - jwsToken: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RevokeTokenRequest'
      tags:
        - Auth
  "/{version}/cuenta-wallet":
    parameters:
      - $ref: "#/components/parameters/version"
    post:
      summary: Crea una nueva cuenta wallet
      operationId: CreateCuentaWallet
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CrearCuentaWalletRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CuentaWalletResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
      security:
        - jwsToken: []
      tags:
        - CuentaWallet
  "/{version}/cliente/{idCliente}/cuenta-wallet":
    parameters:
      - $ref: "#/components/parameters/version"
      - $ref: "#/components/parameters/idCliente"
    get:
      summary: Obtiene la cuenta wallet de un cliente
      operationId: GetCuentaWalletPorCliente
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CuentaWalletResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "404":
          $ref: "#/components/responses/HTTP_Error_400"
      security:
        - jwsToken: []
      tags:
        - CuentaWallet
  "/{version}/cliente/{idCliente}/transacciones":
    parameters:
      - $ref: "#/components/parameters/version"
      - $ref: "#/components/parameters/idCliente"
    get:
      summary: Obtiene las transacciones de un cliente
      operationId: GetTransaccionesPorCliente
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BitacoraTransaccionResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "404":
          $ref: "#/components/responses/HTTP_Error_400"
      security:
        - jwsToken: []
      tags:
        - BitacoraTransaccion
  "/{version}/cliente/{idCliente}/pago-servicios":
    parameters:
      - $ref: "#/components/parameters/version"
      - $ref: "#/components/parameters/idCliente"
    get:
      summary: Obtiene el historial de pagos de servicios de un cliente
      operationId: GetDetallesPagoServicioPorCliente
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DetallesPagoServicioResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "404":
          $ref: "#/components/responses/HTTP_Error_400"
      security:
        - jwsToken: []
      tags:
        - DetallesPagoServicio
  "/{version}/transacciones/{idTransaccion}/detalles":
    parameters:
      - $ref: "#/components/parameters/version"
      - name: idTransaccion
        in: path
        required: true
        schema:
          type: integer
          format: int32
        description: Id de la transaccion
    get:
      summary: Obtiene los detalles de pago de servicio por transacción
      operationId: GetDetallesPorTransaccion
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DetallesPagoServicioResult"
        "400":
          $ref: "#/components/responses/HTTP_Error_400"
        "401":
          $ref: "#/components/responses/HTTP_Error_400"
        "404":
          $ref: "#/components/responses/HTTP_Error_400"
      security:
        - jwsToken: []
      tags:
        - DetallesPagoServicio

components:
  schemas:
    CrearCuentaWalletRequest:
      type: object
      properties:
        idCliente:
          type: integer
          format: int32
        moneda:
          type: string
          minLength: 3
          maxLength: 3
      required:
        - idCliente
        - moneda
    CuentaWalletResult:
      type: object
      properties:
        id:
          type: integer
          format: int32
        idCliente:
          type: integer
          format: int32
        saldoActual:
          type: number
          format: double
        cuentaCLABE:
          type: string
        moneda:
          type: string
        guid:
          type: string
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
        isActive:
          type: boolean
      required:
        - id
        - idCliente
        - saldoActual
        - cuentaCLABE
        - moneda
        - guid
        - creationTimestamp
        - isActive
    BitacoraTransaccionResult:
      type: object
      properties:
        id:
          type: integer
          format: int32
        idBilletera:
          type: integer
          format: int32
        monto:
          type: number
          format: double
        tipo:
          type: string
        direccion:
          type: string
        estatus:
          type: string
        refExternaId:
          type: string
          nullable: true
        guid:
          type: string
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
      required:
        - id
        - idBilletera
        - monto
        - tipo
        - direccion
        - estatus
        - guid
        - creationTimestamp
    DetallesPagoServicioResult:
      type: object
      properties:
        id:
          type: integer
          format: int32
        idTransaccion:
          type: integer
          format: int32
        idProveedor:
          type: integer
          format: int32
        numeroReferencia:
          type: string
        codigoAutorizacion:
          type: string
          nullable: true
        guid:
          type: string
          format: uuid
      required:
        - id
        - idTransaccion
        - idProveedor
        - numeroReferencia
        - guid
    RegistrarPagoServicioRequest:
      type: object
      properties:
        idBilletera:
          type: integer
          format: int32
        monto:
          type: number
          format: double
        nombreServicio:
          type: string
        direccion:
          type: string
        refExternaId:
          type: string
          nullable: true
        idProveedor:
          type: integer
          format: int32
        numeroReferencia:
          type: string
        codigoAutorizacion:
          type: string
          nullable: true
      required:
        - idBilletera
        - monto
        - nombreServicio
        - direccion
        - idProveedor
        - numeroReferencia
    TipoDocumentoConsentimientoEnum:
      type: string
      x-stoplight:
        id: 94d48ef2c5166
      enum:
        - Terminos
        - Privacidad
        - PLD
      description: Tipo de documento de consentimiento
    ConsentimientoUsuarioRequest:
      title: ConsentimientoUsuarioRequest
      type: object
      properties:
        tipoDocumento:
          $ref: '#/components/schemas/TipoDocumentoConsentimientoEnum'
        version:
          type: string
          minLength: 1
          maxLength: 20
      required:
        - tipoDocumento
        - version
    ConsentimientoUsuarioResult:
      title: ConsentimientoUsuarioResult
      type: object
      properties:
        id:
          type: integer
        idUsuario:
          type: integer
        tipoDocumento:
          type: string
        version:
          type: string
        fechaAceptacion:
          type: string
          format: date-time
        guid:
          type: string
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
        modificationTimestamp:
          type: string
          format: date-time
        creationUser:
          type: string
          format: uuid
        modificationUser:
          type: string
          format: uuid
        isActive:
          type: boolean
      required:
        - id
        - idUsuario
        - tipoDocumento
        - version
        - fechaAceptacion
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    LoginRequest:
      type: object
      properties:
        login:
          type: string
        password:
          type: string
      required:
        - login
        - password
    RefreshTokenRequest:
      type: object
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string
      required:
        - accessToken
        - refreshToken
    RevokeTokenRequest:
      type: object
      properties:
        username:
          type: string
      required:
        - username
    AuthResult:
      type: object
      description: Estructura para resultado de autenticacion
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string
        success:
          type: boolean
        errors:
          type: array
          items:
            type: string
      description: Estructura para resultado de autenticacion
      title: ""
    DatosClienteRequest:
      title: DatosClienteRequest
      x-stoplight:
        id: a8h88f5567ienu
      type: object
      description: Estructura para actualizar los datos del cliente
      properties:
        nombre:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        apellidoPaterno:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        apellidoMaterno:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        nombreEstado:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        fechaNacimiento:
          type: string
          x-stoplight:
            id: neep14yhburn4
          format: date
        genero:
          type: integer
          x-stoplight:
            id: neep14yhburn4

      required:
        - nombre
        - apellidoPaterno
        - apellidoMaterno
        - nombreEstado
        - fechaNacimiento
        - genero

    DatosClienteUpdateRequest:
      title: DatosClienteUpdateRequest
      type: object
      description: Estructura para actualizar los datos del cliente
      properties:
        nombre:
          type: string
          minLength: 1
          maxLength: 100
        apellidoPaterno:
          type: string
          minLength: 1
          maxLength: 100
        apellidoMaterno:
          type: string
          minLength: 1
          maxLength: 100
        nombreEstado:
          type: string
          minLength: 1
          maxLength: 100
        fechaNacimiento:
          type: string
          format: date
        genero:
          type: integer
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - nombre
        - apellidoPaterno
        - apellidoMaterno
        - nombreEstado
        - fechaNacimiento
        - genero
        - concurrencyToken
    ClienteResult:
      title: ClienteResult
      description: Result containing full client details
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 1
        codigoPais:
          type: string
          minLength: 3
          maxLength: 3
          example: "MEX"
        telefono:
          type: string
          minLength: 9
          maxLength: 10
          example: "5512345678"

        nombre:
          type: string
          minLength: 1
          maxLength: 100
        primerApellido:
          type: string
          minLength: 1
          maxLength: 100
        segundoApellido:
          type: string
          minLength: 1
          maxLength: 100
        fechaNacimiento:
          type: string
          format: date-time
        genero:
          type: string
          minLength: 1
          maxLength: 50
        correoElectronico:
          type: string
          minLength: 1
          maxLength: 150
        tipoPersona:
          type: string
          minLength: 1
          maxLength: 50
        curp:
          type: string
          minLength: 1
          maxLength: 18
        rfc:
          type: string
          minLength: 1
          maxLength: 13
        foto:
          type: string
          minLength: 1
          maxLength: 500
        estado:
          type: string
          minLength: 1
          maxLength: 500
        empresa:
          type: string
          minLength: 1
          maxLength: 13
        guid:
          type: string
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
        modificationTimestamp:
          type: string
          format: date-time
        creationUser:
          type: string
          format: uuid
        modificationUser:
          type: string
          format: uuid
        isActive:
          type: boolean
        concurrencyToken:
          type: string

      required:
        - id
        - codigoPais
        - telefono
        - nombre
        - primerApellido
        - segundoApellido
        - fechaNacimiento
        - genero
        - correoElectronico
        - tipoPersona
        - curp
        - rfc
        - foto
        - estado
        - empresa
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    ProductoUpdateRequest:
      title: ProductoUpdateRequest
      type: object
      properties:
        sku:
          type: string
          maxLength: 50
        nombre:
          type: string
          maxLength: 100
        precio:
          type: number
          format: double
        urlIcono:
          type: string
          maxLength: 255
        categoria:
          $ref: "#/components/schemas/CategoriaEnum"
        concurrencyToken:
          type: string

      required:
        - sku
        - nombre
        - urlIcono
        - categoria
        - concurrencyToken
    ContrasenaUpdateRequest:
      title: ContrasenaUpdateRequest
      x-stoplight:
        id: 1grn8pkquo5ay
      type: object
      description: Estructura para actualizar la contraseña del cliente
      properties:
        contrasenaActual:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        contrasenaNueva:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        contrasenaNuevaConfrimacion:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - contrasenaActual
        - contrasenaNueva
        - contrasenaNuevaConfrimacion
        - concurrencyToken
    EmailUpdateRequest:
      title: EmailUpdateRequest
      x-stoplight:
        id: 0g2w4jmzjmlwz
      type: object
      description: Estructura para actualizar el correo electronico del cliente
      properties:
        correoElectronico:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 150
          format: email
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - correoElectronico
        - concurrencyToken
    TelefonoUpdateRequest:
      title: TelefonoUpdateRequest
      x-stoplight:
        id: tt9tgt4hvzh2s
      type: object
      description: Estructura para actualizar el telefono del cliente
      properties:
        codigoPais:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 3
          maxLength: 3
        telefono:
          type: string
          x-stoplight:
            id: neep14yhburn4
          maxLength: 10
          minLength: 9
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - codigoPais
        - telefono
        - concurrencyToken
    UsuarioResult:
      title: UsuarioResult
      type: object
      description: Estructura para consultar usuarios
      properties:
        id:
          type: integer
        codigoPais:
          type: string
        telefono:
          type: string
        correoElectronico:
          type: string
        estatus:
          type: string
        creationUser:
          type: string
          format: uuid
        modificationUser:
          type: string
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
        modificationTimestamp:
          type: string
          format: date-time
        isActive:
          type: boolean
        concurrencyToken:
          type: string

          description: Token de concurrencia

          x-stoplight:
            id: 114v5cpxh0ldo
      required:
        - id
        - codigoPais
        - telefono
        - estatus
        - creationUser
        - modificationUser
        - creationTimestamp
        - modificationTimestamp
        - isActive
    PreRegistroRequest:
      title: PreRegistroRequest
      type: object
      description: Estructura para pre registrar un usuario
      properties:
        codigoPais:
          type: string
          minLength: 3
          maxLength: 3
        telefono:
          type: string
          minLength: 9
          maxLength: 10
      required:
        - codigoPais
        - telefono
    UbicacionRequest:
      title: UbicacionRequest
      x-stoplight:
        id: e0409yze6vh4o
      type: object
      description: Estructura para guardar la ubicacion o geolocalizacion
      properties:
        latitud:
          type: number
          x-stoplight:
            id: neep14yhburn4
        longitud:
          type: number
          x-stoplight:
            id: neep14yhburn4
        Dispositivo:
          $ref: '#/components/schemas/DispositivoEnum'
        TipoEvento:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        TipoDispositivo:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        Agente:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        DireccionIP:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 45
      required:
        - latitud
        - longitud
        - Dispositivo
        - TipoEvento
        - TipoDispositivo
        - Agente
        - DireccionIP
    UbicacionResult:
      title: UbicacionResult
      x-stoplight:
        id: 8m2uf7deyqani
      type: object
      description: Estructura para consultar ubicacion o geolocalizacion
      properties:
        id:
          type: integer
          x-stoplight:
            id: 3of979vs8a9k9
        latitud:
          type: number
          x-stoplight:
            id: neep14yhburn4
        longitud:
          type: number
          x-stoplight:
            id: neep14yhburn4
        dispositivo:
          $ref: '#/components/schemas/DispositivoEnum'
        tipoEvento:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        tipoDispositivo:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        Agente:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 10
          maxLength: 10
        DireccionIP:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 50
        guid:
          type: string
          description: Guid of the key-value configuration
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
          description: Creation timestamp
        modificationTimestamp:
          type: string
          description: Modification timestamp
          format: date-time
        creationUser:
          type: string
          format: uuid
          description: Guid of the creation user
        modificationUser:
          type: string
          format: uuid
          description: Guid of the modification user
        isActive:
          type: boolean
          format: uuid
          description: Guid of the modification user
          x-stoplight:
            id: kyb43t959rajb
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - id
        - latitud
        - longitud
        - dispositivo
        - tipoEvento
        - tipoDispositivo
        - Agente
        - DireccionIP
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    DireccionResult:
      title: DireccionResult
      x-stoplight:
        id: 7665cfilold6w
      type: object
      description: Estructura para consultar la direccion de cliente
      properties:
        codigoPostal:
          type: string
          x-stoplight:
            id: 3of979vs8a9k9
          minLength: 5
          maxLength: 5
        pais:
          type: string
          x-stoplight:
            id: neep14yhburn4
          format: double
          minLength: 1
          maxLength: 100
        estado:
          type: string
          x-stoplight:
            id: neep14yhburn4
          format: double
          minLength: 1
          maxLength: 100
        municipio:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        colonia:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        calle:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        numeroExterior:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 50
        numeroInterior:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 6
        referencia:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 250
        guid:
          type: string
          description: Guid of the key-value configuration
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
          description: Creation timestamp
        modificationTimestamp:
          type: string
          description: Modification timestamp
          format: date-time
        creationUser:
          type: string
          format: uuid
          description: Guid of the creation user
        modificationUser:
          type: string
          format: uuid
          description: Guid of the modification user
        isActive:
          type: boolean
          format: uuid
          description: Guid of the modification user
          x-stoplight:
            id: 2x51kh083gl38
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - codigoPostal
        - pais
        - estado
        - municipio
        - colonia
        - calle
        - numeroExterior
        - numeroInterior
        - referencia
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    DireccionUpdateRequest:
      title: DireccionUpdateRequest
      x-stoplight:
        id: 8h88f5567ienu
      type: object
      description: Estructura para actualizar la direccion del cliente
      properties:
        codigoPostal:
          type: string
          x-stoplight:
            id: 3of979vs8a9k9
          minLength: 5
          maxLength: 5
        municipio:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        colonia:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        calle:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        numeroExterior:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 50
        numeroInterior:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 6
        referencia:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 250
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - codigoPostal
        - municipio
        - colonia
        - calle
        - numeroExterior
        - numeroInterior
        - referencia
        - concurrencyToken
    DispositivoEnum:
      title: DispositivoEnum
      x-stoplight:
        id: 0zx76o4y76jnu
      type: string
      enum:
        - APP
        - WEB
      description: Estructura enum para dispositivo cliente
    Tipo2FAEnum:
      title: Tipo2FAEnum
      x-stoplight:
        id: g9720ns8qbcnm
      type: string
      description: Estructura enum para tipo de verificacion 2fa
      enum:
        - SMS
        - EMAIL
    CategoriaEnum:
      title: Tipo2FAEnum
      x-stoplight:
        id: 0f8j5s3ilu4ci
      type: string
      description: Estructura enum para categoria de proveeedor y productos
      enum:
        - SERVICIOS
        - RECARGAS
        - MOVILIDAD
        - OTROS
    GeneroEnum:
      title: GeneroEnum
      x-stoplight:
        id: f96aitg31pm61
      type: string
      description: Estructura enum para genero
      enum:
        - Masculino
        - Femenino
        - NoBinario
    DispositivoMovilAutorizadoResult:
      title: DispositivoMovilAutorizadoResult
      x-stoplight:
        id: tk90eyg5k0ss1
      type: object
      description: Estructura para consultar el dispositivo movil autorizado
      properties:
        id:
          type: integer
          x-stoplight:
            id: 3of979vs8a9k9
        token:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        idDispositivo:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        nombre:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        caracteristicas:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        Actual:
          type: boolean
          x-stoplight:
            id: neep14yhburn4
          format: date
        guid:
          type: string
          description: Guid of the key-value configuration
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
          description: Creation timestamp
        modificationTimestamp:
          type: string
          description: Modification timestamp
          format: date-time
        creationUser:
          type: string
          format: uuid
          description: Guid of the creation user
        modificationUser:
          type: string
          format: uuid
          description: Guid of the modification user
        isActive:
          type: boolean
          format: uuid
          description: Guid of the modification user
          x-stoplight:
            id: a2uhbk4e5rhfy
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - id
        - token
        - idDispositivo
        - nombre
        - caracteristicas
        - Actual
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    DispositivoMovilAutorizadoRequest:
      title: DispositivoMovilAutorizadoRequest
      type: object
      description: Estructura para guardar el dispositivo movil autorizado
      x-stoplight:
        id: 3fbae6a9f4aca
      properties:
        token:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        idDispositivo:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        nombre:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        caracteristicas:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
      required:
        - token
        - idDispositivo
        - nombre
        - caracteristicas
    EstadoRequest:
      title: EstadoRequest
      x-stoplight:
        id: 2v7tfnyng2bcx
      type: object
      description: Estructura para guardar y actualizar un estado
      properties:
        nombre:
          type: string
          x-stoplight:
            id: neep14yhburn4
          maxLength: 100
          minLength: 1
      required:
        - nombre
    EstadoUpdateRequest:
      title: EstadoUpdateRequest
      type: object
      description: Estructura para actualizar un estado
      properties:
        nombre:
          type: string
          maxLength: 100
          minLength: 1
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - nombre
        - concurrencyToken
    EmpresaRequest:
      title: EmpresaRequest
      x-stoplight:
        id: i1g7cd2dppcx7
      type: object
      description: Estructura para guardar y actualizar una empresa
      properties:
        nombre:
          type: string
          x-stoplight:
            id: neep14yhburn4
          maxLength: 100
          minLength: 1
      required:
        - nombre
    EmpresaUpdateRequest:
      title: EmpresaUpdateRequest
      type: object
      description: Estructura para actualizar una empresa
      properties:
        nombre:
          type: string
          maxLength: 100
          minLength: 1
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - nombre
        - concurrencyToken
    AsignarProductosRequest:
      title: AsignarProductosRequest
      type: object
      description: Estructura para asignar productos a una empresa
      properties:
        productoIds:
          type: array
          items:
            type: integer
      required:
        - productoIds
    EstadoResult:
      title: EstadoResult
      x-stoplight:
        id: ff7ui2uj6hqys
      type: object
      description: Estructura retorna estados de la repuplica mexicana
      properties:
        id:
          type: integer
          x-stoplight:
            id: neep14yhburn4
        nombre:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        guid:
          type: string
          description: Guid of the key-value configuration
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
          description: Creation timestamp
        modificationTimestamp:
          type: string
          description: Modification timestamp
          format: date-time
        creationUser:
          type: string
          format: uuid
          description: Guid of the creation user
        modificationUser:
          type: string
          format: uuid
          description: Guid of the modification user
        isActive:
          type: boolean
          format: uuid
          description: Guid of the modification user
          x-stoplight:
            id: 9fssiboo4dz6v
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - id
        - nombre
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    EmpresaResult:
      title: EmpresaResult
      x-stoplight:
        id: 3jqtfpukipt2c
      type: object
      description: Estructura retorna empresas de la wallet
      properties:
        id:
          type: integer
          x-stoplight:
            id: neep14yhburn4
        nombre:
          type: string
          x-stoplight:
            id: neep14yhburn4
          minLength: 1
          maxLength: 100
        guid:
          type: string
          description: Guid of the key-value configuration
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
          description: Creation timestamp
        modificationTimestamp:
          type: string
          description: Modification timestamp
          format: date-time
        creationUser:
          type: string
          format: uuid
          description: Guid of the creation user
        modificationUser:
          type: string
          format: uuid
          description: Guid of the modification user
        isActive:
          type: boolean
          format: uuid
          description: Guid of the modification user
          x-stoplight:
            id: 2oa3t6cskgc2f
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - id
        - nombre
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    BrokerRequest:
      title: BrokerRequest
      type: object
      description: Estructura para crear/actualizar broker
      properties:
        nombre:
          type: string
          minLength: 1
          maxLength: 100
      required:
        - nombre
    BrokerUpdateRequest:
      title: BrokerUpdateRequest
      type: object
      description: Estructura para actualizar broker
      properties:
        nombre:
          type: string
          minLength: 1
          maxLength: 100
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - nombre
        - concurrencyToken
    BrokerResult:
      title: BrokerResult
      type: object
      description: Estructura para consultar broker
      properties:
        id:
          type: integer
        nombre:
          type: string
          minLength: 1
          maxLength: 100
        guid:
          type: string
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
        modificationTimestamp:
          type: string
          format: date-time
        creationUser:
          type: string
          format: uuid
        modificationUser:
          type: string
          format: uuid
        isActive:
          type: boolean
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - id
        - nombre
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    ProveedorResult:
      title: ProveedorResult
      type: object
      description: Estructura para consultar proveedores de servicio
      properties:
        id:
          type: integer
        brokerId:
          type: integer
        nombre:
          type: string
          minLength: 1
          maxLength: 100
        urlIcono:
          type: string
          maxLength: 500
        guid:
          type: string
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
        modificationTimestamp:
          type: string
          format: date-time
        creationUser:
          type: string
          format: uuid
        modificationUser:
          type: string
          format: uuid
        isActive:
          type: boolean
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - id
        - nombre
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    ProveedorRequest:
      title: ProveedorRequest
      type: object
      description: Estructura para crear/actualizar proveedor de servicio
      properties:
        brokerId:
          type: integer
        nombre:
          type: string
          minLength: 1
          maxLength: 100
        urlIcono:
          type: string
          maxLength: 500
      required:
        - brokerId
        - nombre
    ProveedorUpdateRequest:
      title: ProveedorUpdateRequest
      type: object
      description: Estructura para actualizar proveedor de servicio
      properties:
        brokerId:
          type: integer
        nombre:
          type: string
          minLength: 1
          maxLength: 100
        urlIcono:
          type: string
          maxLength: 500
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - brokerId
        - nombre
        - concurrencyToken
    ServicioFavoritoResult:
      title: ServicioFavoritoResult
      type: object
      description: Estructura para consultar servicios favoritos
      properties:
        id:
          type: integer
        clienteId:
          type: integer
        proveedorId:
          type: integer
        alias:
          type: string
          maxLength: 100
        numeroReferencia:
          type: string
          maxLength: 50
        guid:
          type: string
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
        modificationTimestamp:
          type: string
          format: date-time
        creationUser:
          type: string
          format: uuid
        modificationUser:
          type: string
          format: uuid
        isActive:
          type: boolean
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - id
        - clienteId
        - proveedorId
        - alias
        - numeroReferencia
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    ServicioFavoritoRequest:
      title: ServicioFavoritoRequest
      type: object
      description: Estructura para crear/actualizar servicio favorito
      properties:
        clienteId:
          type: integer
        proveedorId:
          type: integer
        alias:
          type: string
          maxLength: 100
        numeroReferencia:
          type: string
          maxLength: 50
      required:
        - clienteId
        - proveedorId
        - alias
        - numeroReferencia
    ServicioFavoritoUpdateRequest:
      title: ServicioFavoritoUpdateRequest
      type: object
      description: Estructura para actualizar servicio favorito
      properties:
        alias:
          type: string
          maxLength: 100
        numeroReferencia:
          type: string
          maxLength: 50
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - alias
        - numeroReferencia
        - concurrencyToken
    ProductoResult:
      title: ProductoResult
      type: object
      description: Estructura para consultar productos de proveedor
      properties:
        id:
          type: integer
        proveedorId:
          type: integer
        sku:
          type: string
          maxLength: 50
        nombre:
          type: string
          maxLength: 100
        categoria:
          $ref: '#/components/schemas/CategoriaEnum'
        precio:
          type: number
          x-stoplight:
            id: kd6k5ve4v14ly
        urlIcono:
          type: string
          x-stoplight:
            id: e9qdswkg2xbi0
        guid:
          type: string
          format: uuid
        creationTimestamp:
          type: string
          format: date-time
        modificationTimestamp:
          type: string
          format: date-time
        creationUser:
          type: string
          format: uuid
        modificationUser:
          type: string
          format: uuid
        isActive:
          type: boolean
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - id
        - proveedorId
        - sku
        - nombre
        - categoria
        - precio
        - urlIcono
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    ProductoRequest:
      title: ProductoRequest
      type: object
      description: Estructura para crear/actualizar producto de proveedor
      properties:
        sku:
          type: string
          maxLength: 50
        nombre:
          type: string
          maxLength: 100
        precio:
          type: number
          x-stoplight:
            id: 4d54deghg8un9
        urlIcono:
          type: string
          maxLength: 255
          x-stoplight:
            id: xjzu7h7g5gz5m
        categoria:
          $ref: '#/components/schemas/CategoriaEnum'
      required:
        - sku
        - nombre
        - urlIcono
        - categoria
    ConfirmacionRequest:
      title: ConfirmacionRequest
      type: object
      description: Estructura para confirmar 2FA (SMS o Email)
      properties:
        Tipo:
          $ref: '#/components/schemas/Tipo2FAEnum'
        Codigo:
          type: string
      required:
        - Tipo
        - Codigo

    RegistrarCorreoRequest:
      title: RegistrarCorreoRequest
      type: object
      description: Estructura para registrar correo
      properties:
        correo:
          type: string
      required:
        - correo
    RegistrarBiometricosRequest:
      title: RegistrarBiometricosRequest
      type: object
      description: Estructura para registrar biometricos
      properties:
        idDispositivo:
          type: string
        token:
          type: string
        nombre:
          type: string
        caracteristicas:
          type: string
      required:
        - idDispositivo
        - token
        - nombre
        - caracteristicas
    AceptarTerminosRequest:
      title: AceptarTerminosRequest
      type: object
      description: Estructura para aceptar terminos
      properties:
        version:
          type: string
        aceptoTerminos:
          type: boolean
        aceptoPrivacidad:
          type: boolean
        aceptoPld:
          type: boolean
      required:
        - version
        - aceptoTerminos
        - aceptoPrivacidad
        - aceptoPld
    CompletarRegistroRequest:
      title: CompletarRegistroRequest
      type: object
      description: Estructura para completar registro
      properties:
        contrasena:
          type: string
        confirmacionContrasena:
          type: string
      required:
        - contrasena
        - confirmacionContrasena
    KeyValueConfigRequest:
      title: KeyValueConfigRequest
      type: object
      description: Estructura para crear una configuracion
      properties:
        key:
          type: string
          description: Clave de la configuracion
        value:
          type: string
          description: Valor de la configuracion
      required:
        - key
        - value
    KeyValueConfigUpdateRequest:
      title: KeyValueConfigUpdateRequest
      type: object
      description: Estructura para actualizar una configuracion
      properties:
        value:
          type: string
          description: Valor de la configuracion
        concurrencyToken:
          type: string

          description: Token de concurrencia
      required:
        - value
        - concurrencyToken
    KeyValueConfigResult:
      title: KeyValueConfigResult
      type: object
      description: Estructura de resultado de configuracion key-value
      properties:
        id:
          type: integer
          format: int32
        key:
          type: string
        value:
          type: string
        guid:
          type: string
          format: uuid
          description: Guid of the key-value configuration
        creationTimestamp:
          type: string
          format: date-time
          description: Creation timestamp
        modificationTimestamp:
          type: string
          format: date-time
          description: Modification timestamp
        creationUser:
          type: string
          format: uuid
          description: Guid of the creation user
        modificationUser:
          type: string
          format: uuid
          description: Guid of the modification user
        isActive:
          type: boolean
          description: Guid of the modification user
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - id
        - key
        - value
        - guid
        - creationTimestamp
        - modificationTimestamp
        - creationUser
        - modificationUser
        - isActive
    StatusChangeRequest:
      title: StatusChangeRequest
      type: object
      description: Estructura para cambiar el estatus de una entidad
      properties:
        concurrencyToken:
          type: string
          description: Token de concurrencia
      required:
        - concurrencyToken

  securitySchemes:
    jwsToken:
      type: http
      scheme: bearer
    X-API-Key:
      name: X-API-Key
      type: apiKey
      in: header
  parameters:
    version:
      name: version
      in: path
      required: true
      schema:
        type: string
        pattern: '^(?<major>[0-9]+).(?<minor>[0-9]+)$'
      description: Version of the API to use
    idCliente:
      name: idCliente
      in: path
      schema:
        type: integer
      description: Id del cliente
      required: true
    idEmpresa:
      name: idEmpresa
      in: path
      schema:
        type: integer
      description: Id de la empresa
      required: true
    idEstado:
      name: idEstado
      in: path
      schema:
        type: integer
      description: Id del estado
      required: true
    idProveedor:
      name: idProveedor
      in: path
      schema:
        type: integer
      description: Id del proveedor de servicio
      required: true
    idServicioFavorito:
      name: idServicioFavorito
      in: path
      schema:
        type: integer
      description: Id del servicio favorito
      required: true
    idBroker:
      name: idBroker
      in: path
      schema:
        type: integer
      description: Id del broker
      required: true
  responses:
    HTTP_Error_400:
      description: Response to client error satus code
      content:
        application/json:
          schema:
            type: object
            properties:
              errors:
                type: array
                description: List of errors
                items:
                  type: object
                  description: Standard error
                  properties:
                    errorCode:
                      type: string
                      description: Error key for internationalization purposes
                    type:
                      type: string
                      format: uri
                      description: Original URI
                      readOnly: true
                    title:
                      type: string
                      description: 'Error title, clear and concise'
                      readOnly: true
                    status:
                      type: integer
                      description: HTTP status for the specific error
                      format: int32
                      minimum: 0
                      exclusiveMinimum: true
                      readOnly: true
                    detail:
                      type: string
                      description: Full detail of the error
                      minLength: 15
                      readOnly: true
                    instance:
                      type: string
                      description: Specific instance where the error occurs without the base URI
                      minLength: 1
                      readOnly: true
                    extraAttributes:
                      type: object
                      description: Extra attributes
                      nullable: true
                      properties:
                        desciptionDynamicContents:
                          type: array
                          description: List of dynamic fields used in the detail of the error
                          nullable: true
                          items:
                            type: string
                        module:
                          type: string
                          description: Module that generated the error
                          nullable: true
                        serviceName:
                          type: string
                          description: Name of the service generating the error
                          nullable: true
                        serviceLocation:
                          type: string
                          description: Location of the service's instance
                          nullable: true
                  required:
                    - errorCode
                    - type
                    - title
                    - status
                    - detail
                    - instance
            required:
              - errors

tags:
  - name: Auth
  - name: Broker
  - name: Cliente
  - name: ConsentimientoUsuario
  - name: Direccion
  - name: DispositivoMovilAutorizado
  - name: Empresa
  - name: Estado
  - name: Health
  - name: KeyValueConfig
  - name: Producto
  - name: Proveedor
  - name: Registro
  - name: ServicioFavorito
  - name: UbicacionGeolocalizacion
  - name: Usuario
  - name: CuentaWallet
  - name: BitacoraTransaccion
  - name: DetallesPagoServicio
security:
  - jwsToken: []
  - X-API-Key: []
